using FatturaElettronica.Tabelle;
using FluentValidation.Results;
using FluentValidation.Validators;

namespace FatturaElettronica.Validators
{
    public class RegimeFiscaleValidator<T> : IsValidValidator<T>
        where T: RegimeFiscale, new()
    {
        protected override ValidationFailure CreateValidationError(PropertyValidatorContext context)
        {
            var err = base.CreateValidationError(context);
            if (context.PropertyValue != null && context.PropertyValue.ToString() == "RF03")
            {
                err.ErrorCode = "00459";
            }
            return err;
        }

    }
}
